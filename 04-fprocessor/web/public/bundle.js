!function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=2)}([function(t,e,n){"use strict";var o,r=function(){return void 0===o&&(o=Boolean(window&&document&&document.all&&!window.atob)),o},s=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),i=[];function l(t){for(var e=-1,n=0;n<i.length;n++)if(i[n].identifier===t){e=n;break}return e}function c(t,e){for(var n={},o=[],r=0;r<t.length;r++){var s=t[r],c=e.base?s[0]+e.base:s[0],a=n[c]||0,u="".concat(c," ").concat(a);n[c]=a+1;var d=l(u),f={css:s[1],media:s[2],sourceMap:s[3]};-1!==d?(i[d].references++,i[d].updater(f)):i.push({identifier:u,updater:m(f,e),references:1}),o.push(u)}return o}function a(t){var e=document.createElement("style"),o=t.attributes||{};if(void 0===o.nonce){var r=n.nc;r&&(o.nonce=r)}if(Object.keys(o).forEach((function(t){e.setAttribute(t,o[t])})),"function"==typeof t.insert)t.insert(e);else{var i=s(t.insert||"head");if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(e)}return e}var u,d=(u=[],function(t,e){return u[t]=e,u.filter(Boolean).join("\n")});function f(t,e,n,o){var r=n?"":o.media?"@media ".concat(o.media," {").concat(o.css,"}"):o.css;if(t.styleSheet)t.styleSheet.cssText=d(e,r);else{var s=document.createTextNode(r),i=t.childNodes;i[e]&&t.removeChild(i[e]),i.length?t.insertBefore(s,i[e]):t.appendChild(s)}}function p(t,e,n){var o=n.css,r=n.media,s=n.sourceMap;if(r?t.setAttribute("media",r):t.removeAttribute("media"),s&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),t.styleSheet)t.styleSheet.cssText=o;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(o))}}var h=null,g=0;function m(t,e){var n,o,r;if(e.singleton){var s=g++;n=h||(h=a(e)),o=f.bind(null,n,s,!1),r=f.bind(null,n,s,!0)}else n=a(e),o=p.bind(null,n,e),r=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return o(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;o(t=e)}else r()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=r());var n=c(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var o=0;o<n.length;o++){var r=l(n[o]);i[r].references--}for(var s=c(t,e),a=0;a<n.length;a++){var u=l(n[a]);0===i[u].references&&(i[u].updater(),i.splice(u,1))}n=s}}}},function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=function(t,e){var n=t[1]||"",o=t[3];if(!o)return n;if(e&&"function"==typeof btoa){var r=(i=o,l=btoa(unescape(encodeURIComponent(JSON.stringify(i)))),c="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(l),"/*# ".concat(c," */")),s=o.sources.map((function(t){return"/*# sourceURL=".concat(o.sourceRoot||"").concat(t," */")}));return[n].concat(s).concat([r]).join("\n")}var i,l,c;return[n].join("\n")}(e,t);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,o){"string"==typeof t&&(t=[[null,t,""]]);var r={};if(o)for(var s=0;s<this.length;s++){var i=this[s][0];null!=i&&(r[i]=!0)}for(var l=0;l<t.length;l++){var c=[].concat(t[l]);o&&r[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),e.push(c))}},e}},function(t,e,n){t.exports=n(7)},function(t,e,n){var o=n(0),r=n(4);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[t.i,r,""]]);var s={insert:"head",singleton:!1};o(r,s);t.exports=r.locals||{}},function(t,e,n){(e=n(1)(!1)).push([t.i,".new-item.svelte-10t0q79.svelte-10t0q79{font-size:1.4em;width:100%;margin:2em 0 1em 0}.board.svelte-10t0q79.svelte-10t0q79{max-width:100%;margin:0 auto}.source.svelte-10t0q79.svelte-10t0q79,.stage.svelte-10t0q79.svelte-10t0q79,.sink.svelte-10t0q79.svelte-10t0q79{float:left;width:15%;padding:0 1em 0 0;box-sizing:border-box}label.svelte-10t0q79.svelte-10t0q79{top:0;left:0;display:block;font-size:1em;line-height:1;padding:0.5em;margin:0 auto 0.5em auto;border-radius:2px;background-color:#eee;user-select:none}input.svelte-10t0q79.svelte-10t0q79{margin:0 }.source.svelte-10t0q79 label.svelte-10t0q79{background-color:red}.stage.svelte-10t0q79 label.svelte-10t0q79{background-color:orange}.sink.svelte-10t0q79 label.svelte-10t0q79{background-color:green}button.svelte-10t0q79.svelte-10t0q79{float:right;height:1em;box-sizing:border-box;padding:0 0.5em;line-height:1;background-color:transparent;border:none;color:rgb(170,30,30);opacity:0;transition:opacity 0.2s}label.svelte-10t0q79:hover button.svelte-10t0q79{opacity:1}",""]),t.exports=e},function(t,e,n){var o=n(0),r=n(6);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[t.i,r,""]]);var s={insert:"head",singleton:!1};o(r,s);t.exports=r.locals||{}},function(t,e,n){(e=n(1)(!1)).push([t.i,"nav.svelte-1ka0mxd{border:1px;background-color:indigo;color:white;padding:6px}a.svelte-1ka0mxd{text-decoration:none;color:white;font-size:20px}",""]),t.exports=e},function(t,e,n){"use strict";function o(){}n.r(e);function r(t,e){for(const n in e)t[n]=e[n];return t}function s(t){return t()}function i(){return Object.create(null)}function l(t){t.forEach(s)}function c(t){return"function"==typeof t}function a(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let u;function d(t){return 0===Object.keys(t).length}function f(t,...e){if(null==t)return o;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function p(t,e,n){t.$$.on_destroy.push(f(e,n))}function h(t,e,n,o){return t[1]&&o?r(n.ctx.slice(),t[1](o(e))):n.ctx}function g(t,e,n,o){if(t[2]&&o){const r=t[2](o(n));if(void 0===e.dirty)return r;if("object"==typeof r){const t=[],n=Math.max(e.dirty.length,r.length);for(let o=0;o<n;o+=1)t[o]=e.dirty[o]|r[o];return t}return e.dirty|r}return e.dirty}function m(t,e,n,o,r,s){if(r){const i=h(e,n,o,s);t.p(i,r)}}function b(t,e,n){return t.set(n),e}new Set;const v="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;class y{constructor(t){this.options=t,this._listeners="WeakMap"in v?new WeakMap:void 0}observe(t,e){return this._listeners.set(t,e),this._getObserver().observe(t,this.options),()=>{this._listeners.delete(t),this._observer.unobserve(t)}}_getObserver(){var t;return null!==(t=this._observer)&&void 0!==t?t:this._observer=new ResizeObserver(t=>{var e;for(const n of t)y.entries.set(n.target,n),null===(e=this._listeners.get(n.target))||void 0===e||e(n)})}}y.entries="WeakMap"in v?new WeakMap:void 0;let $=!1;function w(t,e){t.appendChild(e)}function x(t,e,n){t.insertBefore(e,n||null)}function k(t){t.parentNode&&t.parentNode.removeChild(t)}function _(t){return document.createElement(t)}function C(t){return document.createTextNode(t)}function q(){return C(" ")}function E(){return C("")}function S(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function M(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function j(t,e){e=""+e,t.data!==e&&(t.data=e)}function O(t,e){t.value=null==e?"":e}function L(t,e,n){t.classList[n?"add":"remove"](e)}function A(t,e,{bubbles:n=!1,cancelable:o=!1}={}){const r=document.createEvent("CustomEvent");return r.initCustomEvent(t,n,o,e),r}function R(t,e){return new t(e)}new Map;let D;function T(t){D=t}function N(){if(!D)throw new Error("Function called outside component initialization");return D}function P(t){N().$$.on_destroy.push(t)}function F(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(t=>t.call(this,e))}const I=[],z=[];let U=[];const W=[],H=Promise.resolve();let J=!1;function B(){J||(J=!0,H.then(V))}function Y(){return B(),H}function G(t){U.push(t)}function X(t){W.push(t)}const K=new Set;let Q=0;function V(){if(0!==Q)return;const t=D;do{try{for(;Q<I.length;){const t=I[Q];Q++,T(t),Z(t.$$)}}catch(t){throw I.length=0,Q=0,t}for(T(null),I.length=0,Q=0;z.length;)z.pop()();for(let t=0;t<U.length;t+=1){const e=U[t];K.has(e)||(K.add(e),e())}U.length=0}while(I.length);for(;W.length;)W.pop()();J=!1,K.clear(),T(t)}function Z(t){if(null!==t.fragment){t.update(),l(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(G)}}const tt=new Set;let et;function nt(){et={r:0,c:[],p:et}}function ot(){et.r||l(et.c),et=et.p}function rt(t,e){t&&t.i&&(tt.delete(t),t.i(e))}function st(t,e,n,o){if(t&&t.o){if(tt.has(t))return;tt.add(t),et.c.push(()=>{tt.delete(t),o&&(n&&t.d(1),o())}),t.o(e)}else o&&o()}function it(t,e){t.d(1),e.delete(t.key)}function lt(t,e){st(t,1,1,()=>{e.delete(t.key)})}function ct(t,e,n,o,r,s,i,c,a,u,d,f){let p=t.length,h=s.length,g=p;const m={};for(;g--;)m[t[g].key]=g;const b=[],v=new Map,y=new Map,$=[];for(g=h;g--;){const t=f(r,s,g),l=n(t);let c=i.get(l);c?o&&$.push(()=>c.p(t,e)):(c=u(l,t),c.c()),v.set(l,b[g]=c),l in m&&y.set(l,Math.abs(g-m[l]))}const w=new Set,x=new Set;function k(t){rt(t,1),t.m(c,d),i.set(t.key,t),d=t.first,h--}for(;p&&h;){const e=b[h-1],n=t[p-1],o=e.key,r=n.key;e===n?(d=e.first,p--,h--):v.has(r)?!i.has(o)||w.has(o)?k(e):x.has(r)?p--:y.get(o)>y.get(r)?(x.add(o),k(e)):(w.add(r),p--):(a(n,i),p--)}for(;p--;){const e=t[p];v.has(e.key)||a(e,i)}for(;h;)k(b[h-1]);return l($),b}function at(t,e){const n={},o={},r={$$scope:1};let s=t.length;for(;s--;){const i=t[s],l=e[s];if(l){for(const t in i)t in l||(o[t]=1);for(const t in l)r[t]||(n[t]=l[t],r[t]=1);t[s]=l}else for(const t in i)r[t]=1}for(const t in o)t in n||(n[t]=void 0);return n}function ut(t){return"object"==typeof t&&null!==t?t:{}}new Set(["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"]);let dt;function ft(t,e,n){const o=t.$$.props[e];void 0!==o&&(t.$$.bound[o]=n,n(t.$$.ctx[o]))}function pt(t){t&&t.c()}function ht(t,e,n,o){const{fragment:r,after_update:i}=t.$$;r&&r.m(e,n),o||G(()=>{const e=t.$$.on_mount.map(s).filter(c);t.$$.on_destroy?t.$$.on_destroy.push(...e):l(e),t.$$.on_mount=[]}),i.forEach(G)}function gt(t,e){const n=t.$$;null!==n.fragment&&(!function(t){const e=[],n=[];U.forEach(o=>-1===t.indexOf(o)?e.push(o):n.push(o)),n.forEach(t=>t()),U=e}(n.after_update),l(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function mt(t,e,n,r,s,c,a,u=[-1]){const d=D;T(t);const f=t.$$={fragment:null,ctx:[],props:c,update:o,not_equal:s,bound:i(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(d?d.$$.context:[])),callbacks:i(),dirty:u,skip_bound:!1,root:e.target||d.$$.root};a&&a(f.root);let p=!1;if(f.ctx=n?n(t,e.props||{},(e,n,...o)=>{const r=o.length?o[0]:n;return f.ctx&&s(f.ctx[e],f.ctx[e]=r)&&(!f.skip_bound&&f.bound[e]&&f.bound[e](r),p&&function(t,e){-1===t.$$.dirty[0]&&(I.push(t),B(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(t,e)),n}):[],f.update(),p=!0,l(f.before_update),f.fragment=!!r&&r(f.ctx),e.target){if(e.hydrate){$=!0;const t=(h=e.target,Array.from(h.childNodes));f.fragment&&f.fragment.l(t),t.forEach(k)}else f.fragment&&f.fragment.c();e.intro&&rt(t.$$.fragment),ht(t,e.target,e.anchor,e.customElement),$=!1,V()}var h;T(d)}"function"==typeof HTMLElement&&(dt=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){const{on_mount:t}=this.$$;this.$$.on_disconnect=t.map(s).filter(c);for(const t in this.$$.slotted)this.appendChild(this.$$.slotted[t])}attributeChangedCallback(t,e,n){this[t]=n}disconnectedCallback(){l(this.$$.on_disconnect)}$destroy(){gt(this,1),this.$destroy=o}$on(t,e){if(!c(e))return o;const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){this.$$set&&!d(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}});class bt{$destroy(){gt(this,1),this.$destroy=o}$on(t,e){if(!c(e))return o;const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){this.$$set&&!d(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const vt=[];function yt(t,e){return{subscribe:$t(t,e).subscribe}}function $t(t,e=o){let n;const r=new Set;function s(e){if(a(t,e)&&(t=e,n)){const e=!vt.length;for(const e of r)e[1](),vt.push(e,t);if(e){for(let t=0;t<vt.length;t+=2)vt[t][0](vt[t+1]);vt.length=0}}}return{set:s,update:function(e){s(e(t))},subscribe:function(i,l=o){const c=[i,l];return r.add(c),1===r.size&&(n=e(s)||o),i(t),()=>{r.delete(c),0===r.size&&n&&(n(),n=null)}}}}function wt(t,e,n){const r=!Array.isArray(t),s=r?[t]:t,i=e.length<2;return yt(n,t=>{let n=!1;const a=[];let u=0,d=o;const p=()=>{if(u)return;d();const n=e(r?a[0]:a,t);i?t(n):d=c(n)?n:o},h=s.map((t,e)=>f(t,t=>{a[e]=t,u&=~(1<<e),n&&p()},()=>{u|=1<<e}));return n=!0,p(),function(){l(h),d(),n=!1}})}function xt(t){let e,n,o;const s=[t[2]];var i=t[0];function l(t){let e={};for(let t=0;t<s.length;t+=1)e=r(e,s[t]);return{props:e}}return i&&(e=R(i,l()),e.$on("routeEvent",t[7])),{c(){e&&pt(e.$$.fragment),n=E()},m(t,r){e&&ht(e,t,r),x(t,n,r),o=!0},p(t,o){const r=4&o?at(s,[ut(t[2])]):{};if(1&o&&i!==(i=t[0])){if(e){nt();const t=e;st(t.$$.fragment,1,0,()=>{gt(t,1)}),ot()}i?(e=R(i,l()),e.$on("routeEvent",t[7]),pt(e.$$.fragment),rt(e.$$.fragment,1),ht(e,n.parentNode,n)):e=null}else i&&e.$set(r)},i(t){o||(e&&rt(e.$$.fragment,t),o=!0)},o(t){e&&st(e.$$.fragment,t),o=!1},d(t){t&&k(n),e&&gt(e,t)}}}function kt(t){let e,n,o;const s=[{params:t[1]},t[2]];var i=t[0];function l(t){let e={};for(let t=0;t<s.length;t+=1)e=r(e,s[t]);return{props:e}}return i&&(e=R(i,l()),e.$on("routeEvent",t[6])),{c(){e&&pt(e.$$.fragment),n=E()},m(t,r){e&&ht(e,t,r),x(t,n,r),o=!0},p(t,o){const r=6&o?at(s,[2&o&&{params:t[1]},4&o&&ut(t[2])]):{};if(1&o&&i!==(i=t[0])){if(e){nt();const t=e;st(t.$$.fragment,1,0,()=>{gt(t,1)}),ot()}i?(e=R(i,l()),e.$on("routeEvent",t[6]),pt(e.$$.fragment),rt(e.$$.fragment,1),ht(e,n.parentNode,n)):e=null}else i&&e.$set(r)},i(t){o||(e&&rt(e.$$.fragment,t),o=!0)},o(t){e&&st(e.$$.fragment,t),o=!1},d(t){t&&k(n),e&&gt(e,t)}}}function _t(t){let e,n,o,r;const s=[kt,xt],i=[];function l(t,e){return t[1]?0:1}return e=l(t),n=i[e]=s[e](t),{c(){n.c(),o=E()},m(t,n){i[e].m(t,n),x(t,o,n),r=!0},p(t,[r]){let c=e;e=l(t),e===c?i[e].p(t,r):(nt(),st(i[c],1,1,()=>{i[c]=null}),ot(),n=i[e],n?n.p(t,r):(n=i[e]=s[e](t),n.c()),rt(n,1),n.m(o.parentNode,o))},i(t){r||(rt(n),r=!0)},o(t){st(n),r=!1},d(t){i[e].d(t),t&&k(o)}}}function Ct(){const t=window.location.href.indexOf("#/");let e=t>-1?window.location.href.substr(t+1):"/";const n=e.indexOf("?");let o="";return n>-1&&(o=e.substr(n+1),e=e.substr(0,n)),{location:e,querystring:o}}const qt=yt(null,(function(t){t(Ct());const e=()=>{t(Ct())};return window.addEventListener("hashchange",e,!1),function(){window.removeEventListener("hashchange",e,!1)}})),Et=(wt(qt,t=>t.location),wt(qt,t=>t.querystring),$t(void 0));function St(t,e,n){let{routes:o={}}=e,{prefix:r=""}=e,{restoreScrollState:s=!1}=e;class i{constructor(t,e){if(!e||"function"!=typeof e&&("object"!=typeof e||!0!==e._sveltesparouter))throw Error("Invalid component object");if(!t||"string"==typeof t&&(t.length<1||"/"!=t.charAt(0)&&"*"!=t.charAt(0))||"object"==typeof t&&!(t instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:n,keys:o}=function(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,o,r,s,i=[],l="",c=t.split("/");for(c[0]||c.shift();r=c.shift();)"*"===(n=r[0])?(i.push("wild"),l+="/(.*)"):":"===n?(o=r.indexOf("?",1),s=r.indexOf(".",1),i.push(r.substring(1,~o?o:~s?s:r.length)),l+=~o&&!~s?"(?:/([^/]+?))?":"/([^/]+?)",~s&&(l+=(~o?"?":"")+"\\"+r.substring(s))):l+="/"+r;return{keys:i,pattern:new RegExp("^"+l+(e?"(?=$|/)":"/?$"),"i")}}(t);this.path=t,"object"==typeof e&&!0===e._sveltesparouter?(this.component=e.component,this.conditions=e.conditions||[],this.userData=e.userData,this.props=e.props||{}):(this.component=()=>Promise.resolve(e),this.conditions=[],this.props={}),this._pattern=n,this._keys=o}match(t){if(r)if("string"==typeof r){if(!t.startsWith(r))return null;t=t.substr(r.length)||"/"}else if(r instanceof RegExp){const e=t.match(r);if(!e||!e[0])return null;t=t.substr(e[0].length)||"/"}const e=this._pattern.exec(t);if(null===e)return null;if(!1===this._keys)return e;const n={};let o=0;for(;o<this._keys.length;){try{n[this._keys[o]]=decodeURIComponent(e[o+1]||"")||null}catch(t){n[this._keys[o]]=null}o++}return n}async checkConditions(t){for(let e=0;e<this.conditions.length;e++)if(!await this.conditions[e](t))return!1;return!0}}const l=[];o instanceof Map?o.forEach((t,e)=>{l.push(new i(e,t))}):Object.keys(o).forEach(t=>{l.push(new i(t,o[t]))});let c=null,a=null,u={};const d=function(){const t=N();return(e,n,{cancelable:o=!1}={})=>{const r=t.$$.callbacks[e];if(r){const s=A(e,n,{cancelable:o});return r.slice().forEach(e=>{e.call(t,s)}),!s.defaultPrevented}return!0}}();async function f(t,e){await Y(),d(t,e)}let p=null,h=null;var g;s&&(h=t=>{p=t.state&&t.state.__svelte_spa_router_scrollY?t.state:null},window.addEventListener("popstate",h),g=()=>{p?window.scrollTo(p.__svelte_spa_router_scrollX,p.__svelte_spa_router_scrollY):window.scrollTo(0,0)},N().$$.after_update.push(g));let m=null,b=null;const v=qt.subscribe(async t=>{m=t;let e=0;for(;e<l.length;){const o=l[e].match(t.location);if(!o){e++;continue}const r={route:l[e].path,location:t.location,querystring:t.querystring,userData:l[e].userData,params:o&&"object"==typeof o&&Object.keys(o).length?o:null};if(!await l[e].checkConditions(r))return n(0,c=null),b=null,void f("conditionsFailed",r);f("routeLoading",Object.assign({},r));const s=l[e].component;if(b!=s){s.loading?(n(0,c=s.loading),b=s,n(1,a=s.loadingParams),n(2,u={}),f("routeLoaded",Object.assign({},r,{component:c,name:c.name,params:a}))):(n(0,c=null),b=null);const e=await s();if(t!=m)return;n(0,c=e&&e.default||e),b=s}return o&&"object"==typeof o&&Object.keys(o).length?n(1,a=o):n(1,a=null),n(2,u=l[e].props),void f("routeLoaded",Object.assign({},r,{component:c,name:c.name,params:a})).then(()=>{Et.set(a)})}n(0,c=null),b=null,Et.set(void 0)});return P(()=>{v(),h&&window.removeEventListener("popstate",h)}),t.$$set=t=>{"routes"in t&&n(3,o=t.routes),"prefix"in t&&n(4,r=t.prefix),"restoreScrollState"in t&&n(5,s=t.restoreScrollState)},t.$$.update=()=>{32&t.$$.dirty&&(history.scrollRestoration=s?"manual":"auto")},[c,a,u,o,r,s,function(e){F.call(this,t,e)},function(e){F.call(this,t,e)}]}var Mt=class extends bt{constructor(t){super(),mt(this,t,St,_t,a,{routes:3,prefix:4,restoreScrollState:5})}};function jt(t){let e,n,r;return{c(){var t,o,s,i,l,c;e=_("div"),n=_("img"),t=n.src,o=r=Ot,u||(u=document.createElement("a")),u.href=o,t!==u.href&&M(n,"src",r),M(n,"alt","backgroung"),s=n,i="max-width",null==(l="100%")?s.style.removeProperty(i):s.style.setProperty(i,l,c?"important":"")},m(t,o){x(t,e,o),w(e,n)},p:o,i:o,o:o,d(t){t&&k(e)}}}let Ot="images/img_20210509.jpg";var Lt=class extends bt{constructor(t){super(),mt(this,t,null,jt,a,{})}};let At=[];const Rt=$t([]),Dt=new WebSocket("ws://localhost:8080/api/v1/ws");Dt.addEventListener("open",(function(t){console.log("Web socket is opened")})),Dt.addEventListener("message",(function(t){console.log("Msg received: "+t.data);let e=JSON.parse(t.data),n=At.findIndex(t=>t.id===e.id);0>n?At.push(e):At[n]=e,Rt.set(At)}));n(3);function Tt(t,e,n){const o=t.slice();return o[18]=e[n],o}function Nt(t,e,n){const o=t.slice();return o[18]=e[n],o[21]=e,o[22]=n,o}function Pt(t,e,n){const o=t.slice();return o[18]=e[n],o[23]=e,o[24]=n,o}function Ft(t,e,n){const o=t.slice();return o[18]=e[n],o[25]=e,o[26]=n,o}function It(t,e,n){const o=t.slice();return o[18]=e[n],o[27]=e,o[28]=n,o}function zt(t,e,n){const o=t.slice();return o[18]=e[n],o[29]=e,o[30]=n,o}function Ut(t,e){let n,o,r,s,i,l,c,a=e[18].description+"";function u(){return e[6](e[18],e[29],e[30])}return{key:t,first:null,c(){n=_("label"),o=C(a),r=q(),s=_("button"),s.textContent="x",i=q(),M(s,"class","svelte-10t0q79"),M(n,"class","svelte-10t0q79"),this.first=n},m(t,e){x(t,n,e),w(n,o),w(n,r),w(n,s),w(n,i),l||(c=S(s,"click",u),l=!0)},p(t,n){e=t,3&n&&a!==(a=e[18].description+"")&&j(o,a)},d(t){t&&k(n),l=!1,c()}}}function Wt(t,e){let n,o,r,s,i,l,c,a=e[18].description+"";function u(){return e[8](e[18],e[27],e[28])}return{key:t,first:null,c(){n=_("label"),o=C(a),r=q(),s=_("button"),s.textContent="x",i=q(),M(s,"class","svelte-10t0q79"),M(n,"class","svelte-10t0q79"),this.first=n},m(t,e){x(t,n,e),w(n,o),w(n,r),w(n,s),w(n,i),l||(c=S(s,"click",u),l=!0)},p(t,n){e=t,3&n&&a!==(a=e[18].description+"")&&j(o,a)},d(t){t&&k(n),l=!1,c()}}}function Ht(t,e){let n,o,r,s,i,l,c,a=e[18].description+"";function u(){return e[10](e[18],e[25],e[26])}return{key:t,first:null,c(){n=_("label"),o=C(a),r=q(),s=_("button"),s.textContent="x",i=q(),M(s,"class","svelte-10t0q79"),M(n,"class","svelte-10t0q79"),this.first=n},m(t,e){x(t,n,e),w(n,o),w(n,r),w(n,s),w(n,i),l||(c=S(s,"click",u),l=!0)},p(t,n){e=t,3&n&&a!==(a=e[18].description+"")&&j(o,a)},d(t){t&&k(n),l=!1,c()}}}function Jt(t,e){let n,o,r,s,i,l,c,a=e[18].description+"";function u(){return e[12](e[18],e[23],e[24])}return{key:t,first:null,c(){n=_("label"),o=C(a),r=q(),s=_("button"),s.textContent="x",i=q(),M(s,"class","svelte-10t0q79"),M(n,"class","svelte-10t0q79"),this.first=n},m(t,e){x(t,n,e),w(n,o),w(n,r),w(n,s),w(n,i),l||(c=S(s,"click",u),l=!0)},p(t,n){e=t,3&n&&a!==(a=e[18].description+"")&&j(o,a)},d(t){t&&k(n),l=!1,c()}}}function Bt(t,e){let n,o,r,s,i,l,c,a=e[18].description+"";function u(){return e[14](e[18],e[21],e[22])}return{key:t,first:null,c(){n=_("label"),o=C(a),r=q(),s=_("button"),s.textContent="x",i=q(),M(s,"class","svelte-10t0q79"),M(n,"class","svelte-10t0q79"),this.first=n},m(t,e){x(t,n,e),w(n,o),w(n,r),w(n,s),w(n,i),l||(c=S(s,"click",u),l=!0)},p(t,n){e=t,3&n&&a!==(a=e[18].description+"")&&j(o,a)},d(t){t&&k(n),l=!1,c()}}}function Yt(t,e){let n,o,r,s,i,l,c,a=e[18].description+"";function u(){return e[16](e[18])}return{key:t,first:null,c(){n=_("label"),o=C(a),r=q(),s=_("button"),s.textContent="x",i=q(),M(s,"class","svelte-10t0q79"),M(n,"class","svelte-10t0q79"),this.first=n},m(t,e){x(t,n,e),w(n,o),w(n,r),w(n,s),w(n,i),l||(c=S(s,"click",u),l=!0)},p(t,n){e=t,3&n&&a!==(a=e[18].description+"")&&j(o,a)},d(t){t&&k(n),l=!1,c()}}}function Gt(t){let e,n,r,s,i,l,c,a,u,d,f,p,h,g,m,b,v,y,$,C,E,j,O,L,A,R,D,T,N,P,F,I,z,U,W,H,J,B,Y,G,X=[],K=new Map,Q=[],V=new Map,Z=[],tt=new Map,et=[],nt=new Map,ot=[],rt=new Map,st=[],lt=new Map,at=t[1].filter(t[5]);const ut=t=>t[18].id;for(let e=0;e<at.length;e+=1){let n=zt(t,at,e),o=ut(n);K.set(o,X[e]=Ut(o,n))}let dt=t[1].filter(t[7]);const ft=t=>t[18].id;for(let e=0;e<dt.length;e+=1){let n=It(t,dt,e),o=ft(n);V.set(o,Q[e]=Wt(o,n))}let pt=t[1].filter(t[9]);const ht=t=>t[18].id;for(let e=0;e<pt.length;e+=1){let n=Ft(t,pt,e),o=ht(n);tt.set(o,Z[e]=Ht(o,n))}let gt=t[1].filter(t[11]);const mt=t=>t[18].id;for(let e=0;e<gt.length;e+=1){let n=Pt(t,gt,e),o=mt(n);nt.set(o,et[e]=Jt(o,n))}let bt=t[1].filter(t[13]);const vt=t=>t[18].id;for(let e=0;e<bt.length;e+=1){let n=Nt(t,bt,e),o=vt(n);rt.set(o,ot[e]=Bt(o,n))}let yt=t[1].filter(t[15]);const $t=t=>t[18].id;for(let e=0;e<yt.length;e+=1){let n=Tt(t,yt,e),o=$t(n);lt.set(o,st[e]=Yt(o,n))}return{c(){e=_("div"),n=_("input"),r=q(),s=_("div"),i=_("h3"),i.textContent="source",l=q(),c=_("p"),c.textContent="File receiver",a=q();for(let t=0;t<X.length;t+=1)X[t].c();u=q(),d=_("div"),f=_("h3"),f.textContent="stage",p=q(),h=_("p"),h.textContent="Data integrity",g=q();for(let t=0;t<Q.length;t+=1)Q[t].c();m=q(),b=_("div"),v=_("h3"),v.textContent="stage",y=q(),$=_("p"),$.textContent="Data dispatcher",C=q();for(let t=0;t<Z.length;t+=1)Z[t].c();E=q(),j=_("div"),O=_("h3"),O.textContent="stage",L=q(),A=_("p"),A.textContent="File maker",R=q();for(let t=0;t<et.length;t+=1)et[t].c();D=q(),T=_("div"),N=_("h3"),N.textContent="stage",P=q(),F=_("p"),F.textContent="Data archiving",I=q();for(let t=0;t<ot.length;t+=1)ot[t].c();z=q(),U=_("div"),W=_("h3"),W.textContent="sink",H=q(),J=_("p"),J.textContent="File sender",B=q();for(let t=0;t<st.length;t+=1)st[t].c();M(n,"class","new-item svelte-10t0q79"),M(n,"placeholder","Enter a new file name ..."),M(s,"class","source svelte-10t0q79"),M(d,"class","stage svelte-10t0q79"),M(b,"class","stage svelte-10t0q79"),M(j,"class","stage svelte-10t0q79"),M(T,"class","stage svelte-10t0q79"),M(U,"class","sink svelte-10t0q79"),M(e,"class","board svelte-10t0q79")},m(o,k){x(o,e,k),w(e,n),w(e,r),w(e,s),w(s,i),w(s,l),w(s,c),w(s,a);for(let t=0;t<X.length;t+=1)X[t]&&X[t].m(s,null);w(e,u),w(e,d),w(d,f),w(d,p),w(d,h),w(d,g);for(let t=0;t<Q.length;t+=1)Q[t]&&Q[t].m(d,null);w(e,m),w(e,b),w(b,v),w(b,y),w(b,$),w(b,C);for(let t=0;t<Z.length;t+=1)Z[t]&&Z[t].m(b,null);w(e,E),w(e,j),w(j,O),w(j,L),w(j,A),w(j,R);for(let t=0;t<et.length;t+=1)et[t]&&et[t].m(j,null);w(e,D),w(e,T),w(T,N),w(T,P),w(T,F),w(T,I);for(let t=0;t<ot.length;t+=1)ot[t]&&ot[t].m(T,null);w(e,z),w(e,U),w(U,W),w(U,H),w(U,J),w(U,B);for(let t=0;t<st.length;t+=1)st[t]&&st[t].m(U,null);Y||(G=S(n,"keydown",t[4]),Y=!0)},p(t,[e]){3&e&&(at=t[1].filter(t[5]),X=ct(X,e,ut,1,t,at,K,s,it,Ut,null,zt)),3&e&&(dt=t[1].filter(t[7]),Q=ct(Q,e,ft,1,t,dt,V,d,it,Wt,null,It)),3&e&&(pt=t[1].filter(t[9]),Z=ct(Z,e,ht,1,t,pt,tt,b,it,Ht,null,Ft)),3&e&&(gt=t[1].filter(t[11]),et=ct(et,e,mt,1,t,gt,nt,j,it,Jt,null,Pt)),3&e&&(bt=t[1].filter(t[13]),ot=ct(ot,e,vt,1,t,bt,rt,T,it,Bt,null,Nt)),11&e&&(yt=t[1].filter(t[15]),st=ct(st,e,$t,1,t,yt,lt,U,it,Yt,null,Tt))},i:o,o:o,d(t){t&&k(e);for(let t=0;t<X.length;t+=1)X[t].d();for(let t=0;t<Q.length;t+=1)Q[t].d();for(let t=0;t<Z.length;t+=1)Z[t].d();for(let t=0;t<et.length;t+=1)et[t].d();for(let t=0;t<ot.length;t+=1)ot[t].d();for(let t=0;t<st.length;t+=1)st[t].d();Y=!1,G()}}}function Xt(t,e,n){let o;p(t,Rt,t=>n(1,o=t));const r=Object.freeze({doRecv:1,doIntegrity:2,doDispatcher:3,doFileMaker:4,doArchiver:5,doSend:6});let s=o.length+1;function i(t){const e={id:s++,state:r.doRecv,description:t.value};b(Rt,o=[e,...o],o),t.value=""}function l(t){b(Rt,o=o.filter(e=>e!==t),o)}return[r,o,i,l,t=>"Enter"===t.key&&i(t.target),t=>t.state==r.doRecv,(t,e,s)=>b(Rt,e[s].state=r.doIntegrity,o,n(0,r)),t=>t.state==r.doIntegrity,(t,e,s)=>b(Rt,e[s].state=r.doDispatcher,o,n(0,r)),t=>t.state==r.doDispatcher,(t,e,s)=>b(Rt,e[s].state=r.doFileMaker,o,n(0,r)),t=>t.state==r.doFileMaker,(t,e,s)=>b(Rt,e[s].state=r.doArchiver,o,n(0,r)),t=>t.state==r.doArchiver,(t,e,s)=>b(Rt,e[s].state=r.doSend,o,n(0,r)),t=>t.state==r.doSend,t=>l(t)]}var Kt=class extends bt{constructor(t){super(),mt(this,t,Xt,Gt,a,{})}};let Qt=[{id:1,state:100,description:"File receiver"},{id:2,state:100,description:"Data integrity"},{id:3,state:100,description:"Data dispatcher"},{id:4,state:100,description:"File maker"},{id:5,state:100,description:"Data archiving"},{id:6,state:100,description:"File sender"}];const Vt=$t([]),Zt=new WebSocket("ws://localhost:8080/api/v1/mon");Zt.addEventListener("open",(function(t){console.log("Web socket is opened")})),Zt.addEventListener("message",(function(t){console.log("Msg received: "+t.data);let e=JSON.parse(t.data),n=Qt.findIndex(t=>t.id===e.id);0>n?Qt.push(e):Qt[n]=e,Vt.set(Qt)}));const te=$t(new Date,(function(t){const e=setInterval(()=>{t(new Date)},1e3);return function(){clearInterval(e)}}));function ee(t,e,n){const o=t.slice();return o[6]=e[n],o}function ne(t){let e,n,o,r,s,i,l,a,u=t[6].description+"";return{c(){e=_("li"),n=_("label"),o=C(u),r=q(),s=_("button"),s.textContent="x",i=q(),M(s,"type","button"),M(e,"class","todo")},m(u,d){x(u,e,d),w(e,n),w(n,o),w(n,r),w(n,s),w(e,i),l||(a=S(s,"click",(function(){c(t[3](t[6]))&&t[3](t[6]).apply(this,arguments)})),l=!0)},p(e,n){t=e,2&n&&u!==(u=t[6].description+"")&&j(o,u)},d(t){t&&k(e),l=!1,a()}}}function oe(t){let e,n,r,s,i,l,c,a=t[2].format(t[0])+"",u=t[1],d=[];for(let e=0;e<u.length;e+=1)d[e]=ne(ee(t,u,e));return{c(){e=_("div"),n=_("p"),r=C(a),s=q(),i=_("hr"),l=q(),c=_("ul");for(let t=0;t<d.length;t+=1)d[t].c();M(c,"class","todo-list stack-large"),M(c,"aria-labelledby","list-heading"),M(e,"class","todoapp stack-large")},m(t,o){x(t,e,o),w(e,n),w(n,r),w(e,s),w(e,i),w(e,l),w(e,c);for(let t=0;t<d.length;t+=1)d[t]&&d[t].m(c,null)},p(t,[e]){if(1&e&&a!==(a=t[2].format(t[0])+"")&&j(r,a),10&e){let n;for(u=t[1],n=0;n<u.length;n+=1){const o=ee(t,u,n);d[n]?d[n].p(o,e):(d[n]=ne(o),d[n].c(),d[n].m(c,null))}for(;n<d.length;n+=1)d[n].d(1);d.length=u.length}},i:o,o:o,d(t){t&&k(e),function(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}(d,t)}}}function re(t,e,n){let o,r;p(t,te,t=>n(0,o=t)),p(t,Vt,t=>n(1,r=t));const s=new Intl.DateTimeFormat("en",{hour12:!0,hour:"numeric",minute:"2-digit",second:"2-digit"});let i={id:"FileReceiver",cmd:"stop",status:"off"},l=null;return[o,r,s,async function(t){console.log("=>doPost"),console.log("item:"+t.description),console.log("obj:"+JSON.stringify(i));const e=await fetch("http://localhost:8080/api/v1/states/current",{method:"PUT",body:JSON.stringify(i)}),n=await e.json();console.log("json:"+n),l=JSON.stringify(n),console.log("result:"+l),console.log("<=doPost")}]}var se=class extends bt{constructor(t){super(),mt(this,t,re,oe,a,{})}};function ie(t,e,n){const o=t.slice();return o[15]=e[n],o[16]=e,o[17]=n,o}function le(t){let e;return{c(){e=_("li"),e.textContent="Nothing to do here!"},m(t,n){x(t,e,n)},p:o,d(t){t&&k(e)}}}function ce(t,e){let n,o,r,s,i,c,a,u,d,f,p,h,g,m,b,v,y,$,E,O,L,A,R,D,T=e[15].name+"",N=e[15].name+"",P=e[15].name+"";function F(){return e[12](e[15],e[16],e[17])}function I(){return e[13](e[15])}return{key:t,first:null,c(){n=_("li"),o=_("div"),r=_("div"),s=_("input"),a=q(),u=_("label"),d=C(T),p=q(),h=_("div"),g=_("button"),m=C("Edit "),b=_("span"),v=C(N),y=q(),$=_("button"),E=C("Delete "),O=_("span"),L=C(P),A=q(),M(s,"type","checkbox"),M(s,"id",i="todo-"+e[15].id),s.checked=c=e[15].completed,M(u,"for",f="todo-"+e[15].id),M(u,"class","todo-label"),M(r,"class","c-cb"),M(b,"class","visually-hidden"),M(g,"type","button"),M(g,"class","btn"),M(O,"class","visually-hidden"),M($,"type","button"),M($,"class","btn btn__danger"),M(h,"class","btn-group"),M(o,"class","stack-small"),M(n,"class","todo"),this.first=n},m(t,e){x(t,n,e),w(n,o),w(o,r),w(r,s),w(r,a),w(r,u),w(u,d),w(o,p),w(o,h),w(h,g),w(g,m),w(g,b),w(b,v),w(h,y),w(h,$),w($,E),w($,O),w(O,L),w(n,A),R||(D=[S(s,"click",F),S($,"click",I)],R=!0)},p(t,n){e=t,25&n&&i!==(i="todo-"+e[15].id)&&M(s,"id",i),25&n&&c!==(c=e[15].completed)&&(s.checked=c),25&n&&T!==(T=e[15].name+"")&&j(d,T),25&n&&f!==(f="todo-"+e[15].id)&&M(u,"for",f),25&n&&N!==(N=e[15].name+"")&&j(v,N),25&n&&P!==(P=e[15].name+"")&&j(L,P)},d(t){t&&k(n),R=!1,l(D)}}}function ae(t){let e,n,r,s,i,c,a,u,d,f,p,h,g,m,b,v,y,$,E,A,R,D,T,N,P,F,I,z,U,W,H,J,B,Y,G,X,K,Q,V,Z,tt,et,nt,ot,rt,st,lt=[],at=new Map,ut=t[4](t[3],t[0]);const dt=t=>t[15].id;for(let e=0;e<ut.length;e+=1){let n=ie(t,ut,e),o=dt(n);at.set(o,lt[e]=ce(o,n))}let ft=null;return ut.length||(ft=le()),{c(){e=_("div"),n=_("form"),r=_("h2"),r.innerHTML='<label for="todo-0" class="label__lg">What needs to be done?</label>',s=q(),i=_("input"),c=q(),a=_("button"),a.textContent="Add",u=q(),d=_("div"),f=_("button"),p=_("span"),p.textContent="Show",h=q(),g=_("span"),g.textContent="All",m=q(),b=_("span"),b.textContent="tasks",y=q(),$=_("button"),E=_("span"),E.textContent="Show",A=q(),R=_("span"),R.textContent="Active",D=q(),T=_("span"),T.textContent="tasks",P=q(),F=_("button"),I=_("span"),I.textContent="Show",z=q(),U=_("span"),U.textContent="Completed",W=q(),H=_("span"),H.textContent="tasks",B=q(),Y=_("h2"),G=C(t[5]),X=C(" out of "),K=C(t[1]),Q=C(" items completed"),V=q(),Z=_("ul");for(let t=0;t<lt.length;t+=1)lt[t].c();ft&&ft.c(),tt=q(),et=_("hr"),nt=q(),ot=_("div"),ot.innerHTML='<button type="button" class="btn btn__primary">Check all</button> \n    <button type="button" class="btn btn__primary">Remove completed</button>',M(r,"class","label-wrapper"),M(i,"type","text"),M(i,"id","todo-0"),M(i,"autocomplete","off"),M(i,"class","input input__lg"),M(a,"type","submit"),a.disabled="",M(a,"class","btn btn__primary btn__lg"),M(p,"class","visually-hidden"),M(b,"class","visually-hidden"),M(f,"class","btn toggle-btn"),M(f,"aria-pressed",v="all"===t[3]),L(f,"btn__primary","all"===t[3]),M(E,"class","visually-hidden"),M(T,"class","visually-hidden"),M($,"class","btn toggle-btn"),M($,"aria-pressed",N="active"===t[3]),L($,"btn__primary","active"===t[3]),M(I,"class","visually-hidden"),M(H,"class","visually-hidden"),M(F,"class","btn toggle-btn"),M(F,"aria-pressed",J="completed"===t[3]),L(F,"btn__primary","completed"===t[3]),M(d,"class","filters btn-group stack-exception"),M(Y,"id","list-heading"),M(Z,"class","todo-list stack-large"),M(Z,"aria-labelledby","list-heading"),M(ot,"class","btn-group"),M(e,"class","todoapp stack-large")},m(o,l){x(o,e,l),w(e,n),w(n,r),w(n,s),w(n,i),O(i,t[2]),w(n,c),w(n,a),w(e,u),w(e,d),w(d,f),w(f,p),w(f,h),w(f,g),w(f,m),w(f,b),w(d,y),w(d,$),w($,E),w($,A),w($,R),w($,D),w($,T),w(d,P),w(d,F),w(F,I),w(F,z),w(F,U),w(F,W),w(F,H),w(e,B),w(e,Y),w(Y,G),w(Y,X),w(Y,K),w(Y,Q),w(e,V),w(e,Z);for(let t=0;t<lt.length;t+=1)lt[t]&&lt[t].m(Z,null);var v;ft&&ft.m(Z,null),w(e,tt),w(e,et),w(e,nt),w(e,ot),rt||(st=[S(i,"input",t[8]),S(n,"submit",(v=t[7],function(t){return t.preventDefault(),v.call(this,t)})),S(f,"click",t[9]),S($,"click",t[10]),S(F,"click",t[11])],rt=!0)},p(t,[e]){4&e&&i.value!==t[2]&&O(i,t[2]),8&e&&v!==(v="all"===t[3])&&M(f,"aria-pressed",v),8&e&&L(f,"btn__primary","all"===t[3]),8&e&&N!==(N="active"===t[3])&&M($,"aria-pressed",N),8&e&&L($,"btn__primary","active"===t[3]),8&e&&J!==(J="completed"===t[3])&&M(F,"aria-pressed",J),8&e&&L(F,"btn__primary","completed"===t[3]),32&e&&j(G,t[5]),2&e&&j(K,t[1]),89&e&&(ut=t[4](t[3],t[0]),lt=ct(lt,e,dt,1,t,ut,at,Z,it,ce,null,ie),!ut.length&&ft?ft.p(t,e):ut.length?ft&&(ft.d(1),ft=null):(ft=le(),ft.c(),ft.m(Z,null)))},i:o,o:o,d(t){t&&k(e);for(let t=0;t<lt.length;t+=1)lt[t].d();ft&&ft.d(),rt=!1,l(st)}}}function ue(t,e,n){let o,r,s,{todos:i=[]}=e,l="";function c(t){n(0,i=i.filter(e=>e.id!==t.id))}let a="all";const u=(t,e)=>"active"===t?e.filter(t=>!t.completed):"completed"===t?e.filter(t=>t.completed):e;return t.$$set=t=>{"todos"in t&&n(0,i=t.todos)},t.$$.update=()=>{1&t.$$.dirty&&n(1,r=i.length),3&t.$$.dirty&&(o=r?Math.max(...i.map(t=>t.id))+1:1),1&t.$$.dirty&&n(5,s=i.filter(t=>t.completed).length)},[i,r,l,a,u,s,c,function(){n(0,i=[...i,{id:o,name:l,completed:!1}]),n(2,l="")},function(){l=this.value,n(2,l)},()=>n(3,a="all"),()=>n(3,a="active"),()=>n(3,a="completed"),(t,e,o)=>n(4,e[o].completed=!t.completed,u,n(3,a),n(0,i)),t=>c(t)]}var de=class extends bt{constructor(t){super(),mt(this,t,ue,ae,a,{todos:0})}};function fe(t,e,n){const o=t.slice();return o[16]=e[n],o[18]=n,o}const pe=t=>({entry:1&t,selected:2&t,position:5&t}),he=t=>({entry:t[16],selected:t[1],position:t[2]+t[18]});function ge(t,e){let n,o,r;const s=e[10].default,i=function(t,e,n,o){if(t){const r=h(t,e,n,o);return t[0](r)}}(s,e,e[9],he);return{key:t,first:null,c(){n=_("log-row"),i&&i.c(),o=q(),this.first=n},m(t,e){x(t,n,e),i&&i.m(n,null),w(n,o),r=!0},p(t,n){e=t,i&&i.p&&(!r||519&n)&&m(i,s,e,e[9],r?g(s,e[9],n,pe):function(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}(e[9]),he)},i(t){r||(rt(i,t),r=!0)},o(t){st(i,t),r=!1},d(t){t&&k(n),i&&i.d(t)}}}function me(t){let e,n,o,r,s=[],i=new Map,l=t[0];const c=t=>t[18];for(let e=0;e<l.length;e+=1){let n=fe(t,l,e),o=c(n);i.set(o,s[e]=ge(o,n))}return{c(){e=_("log-contents");for(let t=0;t<s.length;t+=1)s[t].c()},m(i,l){x(i,e,l);for(let t=0;t<s.length;t+=1)s[t]&&s[t].m(e,null);t[11](e),n=!0,o||(r=S(window,"keydown",t[4]),o=!0)},p(t,[n]){519&n&&(l=t[0],nt(),s=ct(s,n,c,1,t,l,i,e,lt,ge,null,fe),ot())},i(t){if(!n){for(let t=0;t<l.length;t+=1)rt(s[t]);n=!0}},o(t){for(let t=0;t<s.length;t+=1)st(s[t]);n=!1},d(n){n&&k(e);for(let t=0;t<s.length;t+=1)s[t].d();t[11](null),o=!1,r()}}}function be(t,e,n){let o,r,{$$slots:s={},$$scope:i}=e,{source:l}=e,{visibleRows:c=1e6}=e,{entries:a=[]}=e,{visible:u=a}=e,{follow:d=!0}=e,{selected:f=0}=e,{start:p=0}=e;var h;async function g(){let t;a.length>0&&(t=a[a.length-1]);for await(const e of l.fetch(t,1))a.push(e),a.length<=c?n(0,u=a):d||n(0,u=a.slice(p,c)),d&&m(a.length-1);n(6,d=!1)}async function m(t){if(n(1,f=t),f>a.length-1&&(n(1,f=a.length-1),n(2,p=a.length-c)),f<0){const t=a[0];let e,o=5;for(e=0;e<o;e++)a.unshift(void 0);n(1,f+=o),n(2,p+=o),e=0;for await(const r of l.fetch(t,-o,o)){if(n(5,a[e++]=r,a),e>=o)break;n(0,u=a.slice(p,p+c))}}f<p&&n(2,p=f),f>=p+c&&n(2,p=f-c+1),n(0,u=a.slice(p,p+c))}function b(t){d!==t&&(t?g():l.abort(),n(6,d=t))}return P(()=>l.abort()),h=async()=>{r=o.getElementsByTagName("log-row"),g()},N().$$.on_mount.push(h),t.$$set=t=>{"source"in t&&n(7,l=t.source),"visibleRows"in t&&n(8,c=t.visibleRows),"entries"in t&&n(5,a=t.entries),"visible"in t&&n(0,u=t.visible),"follow"in t&&n(6,d=t.follow),"selected"in t&&n(1,f=t.selected),"start"in t&&n(2,p=t.start),"$$scope"in t&&n(9,i=t.$$scope)},[u,f,p,o,function(t){switch(t.key){case"ArrowUp":b(!1),m(f-1);break;case"ArrowDown":b(!1),m(f+1);break;case"PageUp":b(!1),m(f-c);break;case"PageDown":b(!1),m(f+c);break;case"G":b(!1),m(a.length-1);break;case"g":b(!1),m(0);break;case"f":b(!d)}},a,d,l,c,i,s,function(t){z[t?"unshift":"push"](()=>{o=t,n(3,o)})}]}var ve=class extends bt{constructor(t){super(),mt(this,t,be,me,a,{source:7,visibleRows:8,entries:5,visible:0,follow:6,selected:1,start:2})}};function ye(t){let e,n,o,r=t[8]+"";return{c(){e=_("div"),n=C(r),M(e,"class",o=t[2]===t[9]?"selected":"")},m(t,o){x(t,e,o),w(e,n)},p(t,s){256&s&&r!==(r=t[8]+"")&&j(n,r),516&s&&o!==(o=t[2]===t[9]?"selected":"")&&M(e,"class",o)},d(t){t&&k(e)}}}function $e(t){let e,n,o,r,s,i,l,c,a,u,d,f,p,h,g,m=t[1]?"F":"-";function b(e){t[4](e)}function v(e){t[5](e)}function y(e){t[6](e)}let $={visibleRows:10,source:t[3],$$slots:{default:[ye,({entry:t,position:e})=>({8:t,9:e}),({entry:t,position:e})=>(t?256:0)|(e?512:0)]},$$scope:{ctx:t}};return void 0!==t[2]&&($.selected=t[2]),void 0!==t[1]&&($.follow=t[1]),void 0!==t[0]&&($.start=t[0]),n=new ve({props:$}),z.push(()=>ft(n,"selected",b)),z.push(()=>ft(n,"follow",v)),z.push(()=>ft(n,"start",y)),{c(){e=_("div"),pt(n.$$.fragment),i=q(),l=_("p"),c=C(t[0]),a=q(),u=_("p"),d=C(t[2]),f=q(),p=_("p"),h=C(m),M(e,"id","log"),M(l,"id","start"),M(u,"id","selected"),M(p,"id","follow")},m(t,o){x(t,e,o),ht(n,e,null),x(t,i,o),x(t,l,o),w(l,c),x(t,a,o),x(t,u,o),w(u,d),x(t,f,o),x(t,p,o),w(p,h),g=!0},p(t,[e]){const i={};1796&e&&(i.$$scope={dirty:e,ctx:t}),!o&&4&e&&(o=!0,i.selected=t[2],X(()=>o=!1)),!r&&2&e&&(r=!0,i.follow=t[1],X(()=>r=!1)),!s&&1&e&&(s=!0,i.start=t[0],X(()=>s=!1)),n.$set(i),(!g||1&e)&&j(c,t[0]),(!g||4&e)&&j(d,t[2]),(!g||2&e)&&m!==(m=t[1]?"F":"-")&&j(h,m)},i(t){g||(rt(n.$$.fragment,t),g=!0)},o(t){st(n.$$.fragment,t),g=!1},d(t){t&&k(e),gt(n),t&&k(i),t&&k(l),t&&k(a),t&&k(u),t&&k(f),t&&k(p)}}}function we(t,e,n){let o=new AbortController;let r=0,s=!0,i=-1;return[r,s,i,{abort:async()=>o.abort(),async*fetch(t,e,n){o&&o.abort(),o=new AbortController;const r={offset:e,number:n};t&&(r.cursor=t.substring(5));try{const t=await fetch("/api/log?"+new URLSearchParams(Object.entries(r)),{signal:o.signal});yield*lineIterator(t.body.getReader())}catch(t){if(!t instanceof AbortSignal)throw t}}},function(t){i=t,n(2,i)},function(t){s=t,n(1,s)},function(t){r=t,n(0,r)}]}var xe=class extends bt{constructor(t){super(),mt(this,t,we,$e,a,{})}};function ke(t){let e,n,r,s,i;return{c(){e=_("h1"),e.textContent="pipelines - Pipes and Filters",n=q(),r=_("hr"),s=q(),i=_("p"),i.textContent="Hello from About",M(e,"class","")},m(t,o){x(t,e,o),x(t,n,o),x(t,r,o),x(t,s,o),x(t,i,o)},p:o,i:o,o:o,d(t){t&&k(e),t&&k(n),t&&k(r),t&&k(s),t&&k(i)}}}var _e=class extends bt{constructor(t){super(),mt(this,t,null,ke,a,{})}};n(5);function Ce(t){let e,n,r,s;return r=new Mt({props:{routes:{"/":Lt,"/dashboard":Kt,"/subscribe":de,"/monitor":se,"/log":xe,"/about":_e}}}),{c(){e=_("nav"),e.innerHTML='<a href="/" class="svelte-1ka0mxd">Home</a> \n\t<a href="/#/dashboard" class="svelte-1ka0mxd">Dashboard</a> \n\t<a href="/#/subscribe" class="svelte-1ka0mxd">Subscribe</a> \n\t<a href="/#/monitor" class="svelte-1ka0mxd">Monitor</a> \n\t<a href="/#/log" class="svelte-1ka0mxd">Log</a> \n\t<a href="/#/about" class="svelte-1ka0mxd">About</a>',n=q(),pt(r.$$.fragment),M(e,"class","svelte-1ka0mxd")},m(t,o){x(t,e,o),x(t,n,o),ht(r,t,o),s=!0},p:o,i(t){s||(rt(r.$$.fragment,t),s=!0)},o(t){st(r.$$.fragment,t),s=!1},d(t){t&&k(e),t&&k(n),gt(r,t)}}}var qe=new class extends bt{constructor(t){super(),mt(this,t,null,Ce,a,{})}}({target:document.body});e.default=qe}]);